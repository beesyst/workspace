# OSI Model

---

## Общая структура OSI

| № | Уровень (Layer) | Название | Описание |
|--:|------------------|----------|-----------|
| 7 | Прикладной (Application) | Работа приложений и взаимодействие с сетью |
| 6 | Представления (Presentation) | Форматирование, шифрование и кодирование данных |
| 5 | Сеансовый (Session) | Управление соединениями, установление и завершение сессий |
| 4 | Транспортный (Transport) | Доставка данных, контроль ошибок, сегментация |
| 3 | Сетевой (Network) | Определение маршрута, IP-адресация, маршрутизация |
| 2 | Канальный (Data Link) | MAC-адресация, передача кадров, контроль ошибок |
| 1 | Физический (Physical) | Передача битов через среду (кабель, радио, оптика) |

## Типы данных (PDU)

| № | Уровень | Тип данных (PDU) |
|--:|----------|------------------|
| 7 | Прикладной (Application) | Данные (Data) |
| 6 | Представления (Presentation) | Данные (Data) |
| 5 | Сеансовый (Session) | Данные (Data) |
| 4 | Транспортный (Transport) | Сегменты / Датаграммы (Segments / Datagrams) |
| 3 | Сетевой (Network) | Пакеты (Packets) |
| 2 | Канальный (Data Link) | Кадры (Frames) |
| 1 | Физический (Physical) | Биты (Bits) |

## Функции и примеры протоколов по уровням

| № | Уровень | Функции | Примеры протоколов |
|--:|----------|----------|---------------------|
| 7 | Прикладной (Application) | Взаимодействие с пользователем и сетевыми сервисами | HTTP, HTTPS, FTP, SSH, Telnet, SMTP, POP3, IMAP, DNS |
| 6 | Представления (Presentation) | Кодирование, сжатие, шифрование данных | TLS, SSL, JPEG, ASCII, MPEG, MP3 |
| 5 | Сеансовый (Session) | Установление и завершение соединений, управление сессиями | PPTP, L2TP, RPC, NetBIOS, SOCKS |
| 4 | Транспортный (Transport) | Контроль доставки, надёжность, управление портами | TCP, UDP, SCTP, DCCP |
| 3 | Сетевой (Network) | Маршрутизация, логическая адресация | IP, ICMP, IGMP, IPsec, OSPF, BGP, RIP |
| 2 | Канальный (Data Link) | MAC-адреса, фрейминг, VLAN, ARP | Ethernet, PPP, ARP, STP, VLAN, Frame Relay |
| 1 | Физический (Physical) | Кабели, разъёмы, электрические сигналы | Ethernet, DSL, Wi-Fi, USB, ISDN, оптика |

## Типы межсетевых экранов (Firewall Types) по уровням OSI

| № | Уровень | Тип фильтрации / функции безопасности |
|--:|----------|----------------------------------------|
| 7 | Прикладной (Application) | WAF, глубокая проверка пакетов, блокировка вредоносного HTTP/S-трафика |
| 6 | Представления (Presentation) | Фильтрация по типу контента и форматам данных |
| 5 | Сеансовый (Session) | Контроль состояния соединений (stateful inspection), разрешение/блокировка по сессиям |
| 4 | Транспортный (Transport) | Контроль TCP/UDP, анализ портов, stateful firewall |
| 3 | Сетевой (Network) | Фильтрация IP-пакетов, списки ACL, NAT |
| 2 | Канальный (Data Link) | Фильтрация MAC-адресов, изоляция VLAN |
| 1 | Физический (Physical) | Отключение неиспользуемых портов, физическое разделение сетей |

## Атаки и угрозы по уровням OSI

| № | Уровень | Примеры атак |
|--:|----------|--------------|
| 7 | Прикладной (Application) | SQL Injection, XSS, CSRF, DDoS, Remote Code Execution |
| 6 | Представления (Presentation) | SSL Stripping, Data Manipulation, Encoding/Decoding Exploits |
| 5 | Сеансовый (Session) | Session Hijacking, Session Fixation, Man-in-the-Middle |
| 4 | Транспортный (Transport) | SYN Flood, UDP Flood, TCP Exploits |
| 3 | Сетевой (Network) | IP Spoofing, Routing Table Manipulation, Smurf Attack |
| 2 | Канальный (Data Link) | ARP Spoofing, MAC Flooding, VLAN Hopping |
| 1 | Физический (Physical) | Eavesdropping, Cable Tapping, Signal Interference |

## Проблемы и диагностика (Troubleshooting)

| № | Уровень | Типичные проблемы | Возможные решения |
|--:|----------|------------------|-------------------|
| 7 | Прикладной (Application) | Ошибка приложения, баг в коде, зависание веб-сервиса | Проверить логи, обновления, исключения WAF, перезапустить сервис |
| 6 | Представления (Presentation) | Ошибки шифрования, несовместимость TLS | Проверить сертификаты, версии TLS, обновить библиотеки |
| 5 | Сеансовый (Session) | Обрывы соединений, таймауты сессий | Проверить RPC/L2TP настройки, повторное установление соединения |
| 4 | Транспортный (Transport) | Блокировка портов, сбои TCP | Проверить firewall, открыть нужные порты, провести тест telnet/netcat |
| 3 | Сетевой (Network) | Проблемы маршрутизации, неверные IP | Проверить маршруты, ping/traceroute, IP-конфигурацию |
| 2 | Канальный (Data Link) | MAC-конфликты, петли, VLAN-ошибки | Проверить VLAN, таблицу MAC, STP |
| 1 | Физический (Physical) | Повреждение кабеля, плохой сигнал | Проверить кабель, коннекторы, заменить, устранить помехи |

## Активности и уязвимости по уровням

| № | Уровень | Типичная активность | Вектор атаки |
|--:|----------|---------------------|---------------|
| 7 | Прикладной (Application) | Web, Email, File Transfer | Malware Injection, Phishing, App-level DDoS |
| 6 | Представления (Presentation) | Шифрование, кодирование, сжатие | Format String, Encoding Exploits, SSL Stripping |
| 5 | Сеансовый (Session) | Управление соединениями | Session Hijacking, Brute Force, MITM |
| 4 | Транспортный (Transport) | Доставка TCP/UDP | SYN Flood, TCP Exploits |
| 3 | Сетевой (Network) | IP-маршрутизация | IP Spoofing, Routing Attack, DDoS |
| 2 | Канальный (Data Link) | Кадры, Wi-Fi, Ethernet | ARP Spoofing, MAC Flooding, VLAN Hopping |
| 1 | Физический (Physical) | Кабели, радиосигналы | Wiretapping, Tampering, EMI |

## Быстрые команды для проверки сетевых проблем

| Цель | Команда |
|------|----------|
| Проверить физическое соединение | `ping 8.8.8.8` |
| Проверить маршруты | `traceroute google.com` |
| Проверить открытые порты | `netstat -tulpn` |
| Проверить ARP-таблицу | `arp -a` |
| Анализ трафика | `tcpdump -i eth0` |
| Проверить SSL-сертификат | `openssl s_client -connect site.com:443` |
